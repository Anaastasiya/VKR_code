<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Пример карты маршрута с разными типами линий</title>
    <!-- Подключаем Яндекс.Карты API -->
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
    <!-- Подключаем стили для карты -->
    <style>
        html, body, #map {
            width: 100%; height: 100%; padding: 0; margin: 0;
        }
    </style>
</head>
<body>
    <!-- Создаем контейнер для карты -->
    <div id="map"></div>
    <!-- Пишем скрипт для работы с картой -->
    <script>
        // Ждем, пока загрузится API и готов DOM
        ymaps.ready(init);

        function init() {
            // Создаем карту с центром в Москве
            var map = new ymaps.Map("map", {
                center: [55.76, 37.64],
                zoom: 7
            });

            // Создаем панель маршрутизации
            var routePanel = new ymaps.control.RoutePanel({
                options: {
                    // Показываем только автомобильный и пешеходный режимы
                    types: {auto: true, pedestrian: true}
                }
            });

            // Добавляем панель на карту
            map.controls.add(routePanel);

            // Получаем ссылку на маршрут
            var route = routePanel.getRoute();

            // Слушаем событие обновления маршрута
            route.model.events.add('requestsuccess', function () {
                // Получаем массив отрезков маршрута
                var segments = route.getWayPoints().get(0).properties.get('segments');
                // Создаем массив с типами транспорта для каждого отрезка
                var transportTypes = ['plane', 'bus', 'car', 'walk'];
                // Создаем счетчик для индекса типа транспорта
                var transportIndex = 0;
                // Перебираем все отрезки маршрута
                for (var i = 0; i < segments.length; i++) {
                    // Получаем координаты начала и конца отрезка
                    var start = segments[i].coordinates[0];
                    var end = segments[i].coordinates[1];
                    // Получаем текущий тип транспорта из массива
                    var transportType = transportTypes[transportIndex];
                    // Увеличиваем счетчик на 1 или сбрасываем его, если достигли конца массива
                    transportIndex = (transportIndex + 1) % transportTypes.length;
                    // Создаем линию для отрезка маршрута
                    var line;
                    // Если тип транспорта - самолет, то используем LineString
                    if (transportType == 'plane') {
                        line = new ymaps.GeoObject({
                            geometry: {
                                type: 'LineString',
                                coordinates: [start, end]
                            },
                            properties: {
                                hintContent: 'Самолет'
                            }
                        }, {
                            strokeColor: '#0000ff', // Синий цвет линии
                            strokeWidth: 4 // Толщина линии в пикселях
                        });
                    }
                    // Иначе используем Curve
                    else {
                        line = new ymaps.GeoObject({
                            geometry: {
                                type: 'Curve',
                                coordinates: [start, end]
                            },
                            properties: {
                                hintContent: transportType // Подсказка с типом транспорта
                            }
                        }, {
                            strokeColor: '#ff0000', // Красный цвет линии
                            strokeWidth: 4, // Толщина линии в пикселях
                            opacity: 0.5 // Прозрачность линии
                        });
                    }
                    // Добавляем линию на карту
                    map.geoObjects.add(line);
                }
            });
        }
    </script>
</body>
</html>
